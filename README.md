# StuMoov

## Setup

### Frontend

Before running the frontend, you must copy the `.env.example` file to `.env` and
set the correct environment variables.

```bash
cp .env.example .env
```

#### .env setup

Please refer to our Blackboard submission for the `.env` contents.

#### Install Dependencies and Run Frontend

Now you must install the dependencies and run the frontend.

```bash
npm install
npm run dev
```

### Backend

To run the backend, you must copy the `appsettings.json` to
`appsettings.Development.json` and set the correct environment variables.

```bash
cp appsettings.json appsettings.Development.json
```

#### appsettings.Development.json setup

Please refer to our Blackboard submission for the `appsettings.Development.json`
contents.

#### Stripe Setup

Note that the Stripe keys are not in the submission. You must create a Stripe
account and add your keys to the `appsettings.Development.json` file.

To do so, go to [Stripe](https://stripe.com/) and create a dummy account. You
must also enable Stripe Connect.

Once created, go to your dashboard and copy your Stripe secret key and paste it
into the `appsettings.Development.json` file.

You must also add the webhook secret to the `appsettings.Development.json` file.

You must also install the Stripe CLI:

```bash
npm install stripe-cli
```

Once installed, login to your Stripe account:

```bash
stripe login
```

After you've logged in, you must listen for webhook events from Stripe:

```bash
stripe listen --forward-to http://localhost:5004/api/stripe/webhook
```

This will print a Stripe Webhook secret to your terminal. Copy that secret and
paste it into the `appsettings.Development.json` file.

#### firebase-credentials.json setup

Please refer to our Blackboard submission for the `firebase-credentials.json`
contents.

#### Run the backend

Now you can run the backend:

```bash
dotnet run
```

You should not be able to access the client at `http://localhost:5173`

## Notes

Please note that none of the files in `/backend/StuMoov/Migrations` were written
by us, they are generated by EF Core.
